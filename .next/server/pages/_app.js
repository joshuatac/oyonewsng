(()=>{var e={};e.id=636,e.ids=[636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},979:()=>{},985:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,O:()=>o});var s=r(8732),a=r(2015);let n=(0,a.createContext)(void 0),o=({children:e})=>{let[t,r]=(0,a.useState)(null),[o,i]=(0,a.useState)(null),[l,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=localStorage.getItem("user"),t=localStorage.getItem("token");e&&t&&(r(JSON.parse(e)),i(t)),u(!1)},[]);let d=async(e,t)=>{let s=await fetch("https://api.oyonews.com.ng/wp-json/jwt-auth/v1/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),a=await s.json();if(!s.ok||!a.token)throw Error(a.message||"Invalid credentials");let n=await fetch("https://api.oyonews.com.ng/wp-json/wp/v2/users/me",{headers:{Authorization:`Bearer ${a.token}`}}),o=await n.json();if(!n.ok||!o.id)throw Error(o.message||"Failed to fetch user info");let l={id:o.id,name:o.name||o.username,email:o.email||"",role:o.roles?.[0]||"subscriber"};r(l),i(a.token),localStorage.setItem("user",JSON.stringify(l)),localStorage.setItem("token",a.token)};return(0,s.jsx)(n.Provider,{value:{user:t,token:o,isAuthenticated:!!t,isLoading:l,login:d,logout:()=>{r(null),i(null),localStorage.removeItem("user"),localStorage.removeItem("token")}},children:e})},i=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},4075:e=>{"use strict";e.exports=require("zlib")},7132:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(8732);r(979);var a=r(985),n=r(2015),o=r(4233);let i=()=>{let e=(0,o.useRouter)(),[t,r]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{let t=()=>r(!0),s=()=>r(!1);return e.events.on("routeChangeStart",t),e.events.on("routeChangeComplete",s),e.events.on("routeChangeError",s),()=>{e.events.off("routeChangeStart",t),e.events.off("routeChangeComplete",s),e.events.off("routeChangeError",s)}},[e]),t)?(0,s.jsx)("div",{className:"fixed inset-0 bg-white/80 z-[9999] flex items-center justify-center",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-4 p-6 rounded-xl shadow-lg bg-white w-[90%] max-w-2xl",children:[(0,s.jsx)("div",{className:"bg-gray-300 h-48 rounded-md"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"bg-gray-300 h-6 w-2/3 rounded"}),(0,s.jsx)("div",{className:"bg-gray-200 h-4 w-full rounded"}),(0,s.jsx)("div",{className:"bg-gray-200 h-4 w-5/6 rounded"}),(0,s.jsx)("div",{className:"bg-gray-200 h-4 w-4/6 rounded"})]})]})}):null};var l=r(6761),u=r.n(l);function d(){let[e,t]=(0,n.useState)(null);return e?.banner_image?(0,s.jsx)("a",{href:e.banner_link,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(u(),{src:e.banner_image,alt:"Banner",width:1200,height:300,layout:"responsive"})}):null}let c=({children:e})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{}),(0,s.jsx)("main",{children:e})]});function m({Component:e,pageProps:t}){return(0,s.jsxs)(a.O,{children:[(0,s.jsx)(i,{}),(0,s.jsx)(c,{children:(0,s.jsx)(e,{...t})})]})}},7910:e=>{"use strict";e.exports=require("stream")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[89,969],()=>r(7132));module.exports=s})();