"use strict";(()=>{var e={};e.id=252,e.ids=[252],e.modules={361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},802:e=>{e.exports=import("clsx")},1675:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>h,default:()=>x,getServerSideProps:()=>u,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>g,routeModule:()=>v,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>f});var s=a(3885),l=a(237),i=a(1413),o=a(1779),n=a(7132),d=a(6826),c=e([d]);d=(c.then?(await c)():c)[0];let x=(0,i.M)(d,"default"),p=(0,i.M)(d,"getStaticProps"),m=(0,i.M)(d,"getStaticPaths"),u=(0,i.M)(d,"getServerSideProps"),h=(0,i.M)(d,"config"),g=(0,i.M)(d,"reportWebVitals"),f=(0,i.M)(d,"unstable_getStaticProps"),y=(0,i.M)(d,"unstable_getStaticPaths"),j=(0,i.M)(d,"unstable_getStaticParams"),w=(0,i.M)(d,"unstable_getServerProps"),b=(0,i.M)(d,"unstable_getServerSideProps"),v=new s.PagesRouteModule({definition:{kind:l.A.PAGES,page:"/signup",pathname:"/signup",bundlePath:"",filename:""},components:{App:n.default,Document:o.default},userland:d});r()}catch(e){r(e)}})},2015:e=>{e.exports=require("react")},2326:e=>{e.exports=require("react-dom")},2549:e=>{e.exports=import("@radix-ui/react-avatar")},3033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{e.exports=require("path")},4075:e=>{e.exports=require("zlib")},4600:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{p:()=>n});var s=a(8732),l=a(2015),i=a(101),o=e([i]);i=(o.then?(await o)():o)[0];let n=l.forwardRef(({className:e,type:t,...a},r)=>(0,s.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...a}));n.displayName="Input",r()}catch(e){r(e)}})},5979:e=>{e.exports=import("tailwind-merge")},6307:e=>{e.exports=import("@radix-ui/react-dropdown-menu")},6414:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(2386).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},6826:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>v});var s=a(8732),l=a(2015),i=a(9918),o=a.n(i),n=a(6220),d=a(524),c=a(4600),x=a(8326),p=a(3838),m=a(2554),u=a(7962),h=a(6414),g=a(7290),f=a(8988),y=a(9934),j=a(8781),w=a(985),b=e([d,c,x,f,y,j]);[d,c,x,f,y,j]=b.then?(await b)():b;let v=()=>{let[e,t]=(0,l.useState)(""),[a,r]=(0,l.useState)(""),[i,b]=(0,l.useState)(""),[v,N]=(0,l.useState)(!1),[S,A]=(0,l.useState)(!1),{login:P,isAuthenticated:k}=(0,w.A)(),M=(0,n.useRouter)(),q=async t=>{if(t.preventDefault(),!e.trim()||!a.trim()||i.length<6)return void alert("Please complete all fields correctly.");A(!0);try{let t=await fetch("https://api.oyonews.com.ng/wp-json/oyonews/v1/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,email:e,password:i})}),r=await t.json();if(!t.ok||!r?.user||!r?.token)throw Error(r.message||"Registration failed");await P(e,i);let s=r.user.roles?.[0]||"subscriber";"administrator"===s?window.location.href="https://api.oyonews.com.ng/wp-admin":M.push("/")}catch(t){let e=t instanceof Error?t.message:"Something went wrong.";alert(e)}finally{A(!1)}};return k?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,s.jsx)(f.A,{}),(0,s.jsx)(j.A,{}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-16 flex flex-col items-center justify-center flex-grow",children:(0,s.jsxs)(x.Zp,{className:"max-w-md shadow-xl p-6 text-center",children:[(0,s.jsx)(x.ZB,{className:"text-2xl font-bold mb-4",children:"You are already logged in"}),(0,s.jsx)(d.$,{onClick:()=>M.push("/dashboard"),children:"Go to Dashboard"})]})}),(0,s.jsx)(y.A,{})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,s.jsx)(f.A,{}),(0,s.jsx)(j.A,{}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-16 flex-grow",children:(0,s.jsx)("div",{className:"max-w-md mx-auto",children:(0,s.jsxs)(x.Zp,{className:"shadow-xl",children:[(0,s.jsxs)(x.aR,{className:"text-center",children:[(0,s.jsx)(x.ZB,{className:"text-2xl font-bold text-gray-900",children:"Create an Account"}),(0,s.jsx)(x.BT,{className:"text-gray-600",children:"Sign up to start commenting"})]}),(0,s.jsx)(x.Wu,{children:(0,s.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Username"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(c.p,{id:"username",type:"text",value:a,onChange:e=>r(e.target.value),placeholder:"Enter your username",className:"pl-10",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(c.p,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email",className:"pl-10",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(c.p,{id:"password",type:v?"text":"password",value:i,onChange:e=>b(e.target.value),placeholder:"Enter your password",className:"pl-10 pr-10",required:!0}),(0,s.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2",onClick:()=>N(!v),"aria-label":v?"Hide password":"Show password",children:v?(0,s.jsx)(h.A,{className:"h-4 w-4 text-gray-400"}):(0,s.jsx)(g.A,{className:"h-4 w-4 text-gray-400"})})]})]}),(0,s.jsx)(d.$,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white",disabled:S,children:S?"Signing up...":"Sign Up"}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,s.jsx)(o(),{href:"/login",className:"text-red-600 hover:text-red-500 font-medium",children:"Sign in"})]})})]})})]})})}),(0,s.jsx)(y.A,{})]})};r()}catch(e){r(e)}})},7290:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(2386).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7910:e=>{e.exports=require("stream")},7962:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(2386).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},8326:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{BT:()=>x,Wu:()=>p,ZB:()=>c,Zp:()=>n,aR:()=>d});var s=a(8732),l=a(2015),i=a(101),o=e([i]);i=(o.then?(await o)():o)[0];let n=l.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let d=l.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let c=l.forwardRef(({className:e,...t},a)=>(0,s.jsx)("h3",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let x=l.forwardRef(({className:e,...t},a)=>(0,s.jsx)("p",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));x.displayName="CardDescription";let p=l.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...t}));p.displayName="CardContent",l.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",r()}catch(e){r(e)}})},8732:e=>{e.exports=require("react/jsx-runtime")},8938:e=>{e.exports=import("class-variance-authority")},9021:e=>{e.exports=require("fs")},9121:e=>{e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9640:e=>{e.exports=import("@radix-ui/react-slot")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[89,969,341,197,477,608],()=>a(1675));module.exports=r})();