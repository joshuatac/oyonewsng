"use strict";(()=>{var e={};e.id=44,e.ids=[44],e.modules={361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},802:e=>{e.exports=import("clsx")},2015:e=>{e.exports=require("react")},2326:e=>{e.exports=require("react-dom")},2549:e=>{e.exports=import("@radix-ui/react-avatar")},3033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{e.exports=require("path")},4075:e=>{e.exports=require("zlib")},4798:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>g,default:()=>p,getServerSideProps:()=>u,getStaticPaths:()=>x,getStaticProps:()=>m,reportWebVitals:()=>h,routeModule:()=>w,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>f});var a=r(3885),i=r(237),l=r(1413),n=r(1779),c=r(7132),o=r(9551),d=e([o]);o=(d.then?(await d)():d)[0];let p=(0,l.M)(o,"default"),m=(0,l.M)(o,"getStaticProps"),x=(0,l.M)(o,"getStaticPaths"),u=(0,l.M)(o,"getServerSideProps"),g=(0,l.M)(o,"config"),h=(0,l.M)(o,"reportWebVitals"),f=(0,l.M)(o,"unstable_getStaticProps"),y=(0,l.M)(o,"unstable_getStaticPaths"),j=(0,l.M)(o,"unstable_getStaticParams"),v=(0,l.M)(o,"unstable_getServerProps"),b=(0,l.M)(o,"unstable_getServerSideProps"),w=new a.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/category/[categoryName]",pathname:"/category/[categoryName]",bundlePath:"",filename:""},components:{App:c.default,Document:n.default},userland:o});s()}catch(e){s(e)}})},5979:e=>{e.exports=import("tailwind-merge")},6307:e=>{e.exports=import("@radix-ui/react-dropdown-menu")},6399:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(2386).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6818:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{A:()=>c});var a=r(8732),i=r(2015),l=r(7423),n=e([l]);l=(n.then?(await n)():n)[0];let c=({children:e,height:t=300})=>{let r=(0,i.useRef)(null),[s,n]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(!r.current||s)return;let e=new IntersectionObserver(([t])=>{t.isIntersecting&&(n(!0),e.disconnect())},{rootMargin:"100px"});return e.observe(r.current),()=>e.disconnect()},[s]),(0,a.jsx)("div",{ref:r,children:s?e:(0,a.jsx)(l.E,{className:"w-full rounded-lg",style:{height:`${t}px`}})})};s()}catch(e){s(e)}})},7423:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{E:()=>n});var a=r(8732),i=r(101),l=e([i]);function n({className:e,...t}){return(0,a.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",e),...t})}i=(l.then?(await l)():l)[0],s()}catch(e){s(e)}})},7910:e=>{e.exports=require("stream")},8326:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{BT:()=>p,Wu:()=>m,ZB:()=>d,Zp:()=>c,aR:()=>o});var a=r(8732),i=r(2015),l=r(101),n=e([l]);l=(n.then?(await n)():n)[0];let c=i.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));c.displayName="Card";let o=i.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let d=i.forwardRef(({className:e,...t},r)=>(0,a.jsx)("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let p=i.forwardRef(({className:e,...t},r)=>(0,a.jsx)("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));p.displayName="CardDescription";let m=i.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",e),...t}));m.displayName="CardContent",i.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",s()}catch(e){s(e)}})},8732:e=>{e.exports=require("react/jsx-runtime")},8938:e=>{e.exports=import("class-variance-authority")},9021:e=>{e.exports=require("fs")},9121:e=>{e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>v});var a=r(8732),i=r(2015),l=r(4233),n=r(9918),c=r.n(n),o=r(8988),d=r(9934),p=r(8326),m=r(128),x=r(6399),u=r(6818),g=r(7423),h=r(8781),f=r(6761),y=r.n(f),j=e([o,d,p,u,g,h]);[o,d,p,u,g,h]=j.then?(await j)():j;let v=()=>{let e=(0,l.useRouter)(),{categoryName:t}=e.query,[r,s]=(0,i.useState)([]),[n,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{e.isReady&&t&&(async()=>{f(!0);try{let e=await fetch(`https://api.oyonews.com.ng/wp-json/wp/v2/categories?slug=${t}`),r=await e.json();if(!r.length)return;let a=r[0].id,i=await fetch(`https://api.oyonews.com.ng/wp-json/wp/v2/posts?_embed&categories=${a}`),l=(await i.json()).map(e=>({...e,featured_media_url:e._embedded?.["wp:featuredmedia"]?.[0]?.source_url||"",comment_count:e._embedded?.replies?.[0]?.length||0}));s(l)}catch(e){console.error("Error fetching posts:",e)}finally{f(!1)}})()},[e.isReady,t]);let j=e=>e.charAt(0).toUpperCase()+e.slice(1),v=e=>e,b=(e,t)=>{let r=e.trim().split(/\s+/);return r.slice(0,t).join(" ")+(r.length>t?"...":"")};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(o.A,{}),(0,a.jsx)(h.A,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:j(t||"Category")}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Latest posts from ",j(t||"this category")]})]}),n?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((e,t)=>(0,a.jsxs)(p.Zp,{children:[(0,a.jsx)(g.E,{className:"w-full h-48 rounded-t-lg"}),(0,a.jsxs)(p.Wu,{className:"p-4",children:[(0,a.jsx)(g.E,{className:"h-6 mb-2 rounded"}),(0,a.jsx)(g.E,{className:"h-4 mb-3 rounded"}),(0,a.jsx)(g.E,{className:"h-4 w-24 rounded"})]})]},t))}):0===r.length?(0,a.jsx)("p",{className:"text-center text-gray-500",children:"No posts found in this category."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(e=>(0,a.jsx)(u.A,{children:(0,a.jsx)(c(),{href:`/${e.slug}`,children:(0,a.jsxs)(p.Zp,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y(),{src:e.featured_media_url||"/fallback.jpg",alt:e.title.rendered,width:400,height:240,className:"w-full h-48 object-cover rounded-t-lg",loading:"lazy"}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-sm flex items-center",children:[(0,a.jsx)(m.A,{className:"h-3 w-3 mr-1"}),e.comment_count]})]}),(0,a.jsxs)(p.Wu,{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-2 hover:text-red-600 transition-colors",children:(0,a.jsx)("span",{className:"block text-ellipsis overflow-hidden leading-snug line-clamp-2 h-[3em]",dangerouslySetInnerHTML:{__html:e.title.rendered}})}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:b(v(e.excerpt.rendered),100)}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,a.jsx)(x.A,{className:"h-3 w-3 mr-1"}),new Date(e.date).toLocaleDateString()]})]})]})})},e.id))}),(0,a.jsx)("div",{className:"text-center mt-12",children:(0,a.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-medium transition-colors",children:"Load More Posts"})})]})]}),(0,a.jsx)(d.A,{})]})};s()}catch(e){s(e)}})},9640:e=>{e.exports=import("@radix-ui/react-slot")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[89,969,341,197,477,608],()=>r(4798));module.exports=s})();