"use strict";exports.id=983,exports.ids=[983],exports.modules={3106:(e,s,t)=>{t.d(s,{A:()=>r});let r=(0,t(2386).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},3431:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.d(s,{E:()=>d});var a=t(8732);t(2015);var l=t(8938),n=t(101),i=e([l,n]);[l,n]=i.then?(await i)():i;let o=(0,l.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,...t}){return(0,a.jsx)("div",{className:(0,n.cn)(o({variant:s}),e),...t})}r()}catch(e){r(e)}})},6399:(e,s,t)=>{t.d(s,{A:()=>r});let r=(0,t(2386).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6983:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{default:()=>g});var a=t(8732),l=t(2015),n=t(9918),i=t.n(n),d=t(6761),o=t.n(d),c=t(3431),m=t(3106),x=t(7290),u=t(6399),h=e([c]);c=(h.then?(await h)():h)[0];let p=({className:e})=>(0,a.jsx)("div",{className:`bg-gray-300 rounded ${e} animate-pulse`}),f=()=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg animate-pulse bg-gray-100",children:[(0,a.jsxs)("div",{className:"flex-shrink-0 relative",children:[(0,a.jsx)(p,{className:"w-6 h-6 rounded-full mb-1"}),(0,a.jsx)(p,{className:"w-16 h-16 rounded-lg"})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)(p,{className:"w-12 h-4 mb-2 rounded"}),(0,a.jsx)(p,{className:"w-full h-5 mb-2 rounded"}),(0,a.jsx)(p,{className:"w-20 h-4 rounded"})]})]}),g=()=>{let[e,s]=(0,l.useState)([]),[t,r]=(0,l.useState)(!0),[n,d]=(0,l.useState)(null),h=e=>e?e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toString():"0",p=e=>{let s=Date.now()-new Date(e).getTime(),t=Math.floor(s/6e4);if(t<60)return`${t} min ago`;let r=Math.floor(t/60);if(r<24)return`${r} hour${1!==r?"s":""} ago`;let a=Math.floor(r/24);return`${a} day${1!==a?"s":""} ago`};return((0,l.useEffect)(()=>{(async()=>{r(!0);try{let e=await fetch("https://api.oyonews.com.ng/wp-json/wp/v2/posts?per_page=5&orderby=post_views_count&order=desc&meta_key=post_views_count&_embed");if(!e.ok)throw Error("Failed to fetch trending posts");let t=(await e.json()).map(e=>({id:e.id,slug:e.slug,title:e.title,featured_media_src:e._embedded?.["wp:featuredmedia"]?.[0]?.source_url??"https://via.placeholder.com/300x200?text=No+Image",categories_names:e._embedded?.["wp:term"]?.[0]?.map(e=>e.name)||[],post_views_count:Number(e.meta?.post_views_count)||0,date:e.date}));s(t)}catch(e){e instanceof Error?d(e.message||"Error fetching posts"):d("Error fetching posts")}finally{r(!1)}})()},[]),n)?(0,a.jsxs)("p",{className:"text-red-600 font-semibold",children:["Error: ",n]}):(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)(m.A,{className:"h-6 w-6 text-red-500 mr-3"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Trending Now"})]}),(0,a.jsx)("div",{className:"space-y-4",children:t?Array.from({length:5}).map((e,s)=>(0,a.jsx)(f,{},s)):e.map(e=>(0,a.jsx)(i(),{href:`/${e.slug}`,className:"group block cursor-pointer p-3 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 relative",children:(0,a.jsx)("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden",children:(0,a.jsx)(o(),{src:e.featured_media_src,alt:e.title.rendered,fill:!0,className:"object-cover",sizes:"64px"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[e.categories_names[0]&&(0,a.jsx)(c.E,{variant:"outline",className:"text-xs mb-2",children:e.categories_names[0]}),(0,a.jsx)("h4",{className:"font-semibold text-sm text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2 mb-2",children:e.title.rendered}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500 space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(x.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:h(e.post_views_count)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(u.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:p(e.date)})]})]})]})]})},e.id))})]})};r()}catch(e){r(e)}})},7290:(e,s,t)=>{t.d(s,{A:()=>r});let r=(0,t(2386).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}};