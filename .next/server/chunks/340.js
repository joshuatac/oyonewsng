"use strict";exports.id=340,exports.ids=[340],exports.modules={3106:(e,r,s)=>{s.d(r,{A:()=>t});let t=(0,s(2386).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},3431:(e,r,s)=>{s.a(e,async(e,t)=>{try{s.d(r,{E:()=>o});var a=s(8732);s(2015);var n=s(8938),l=s(101),c=e([n,l]);[n,l]=c.then?(await c)():c;let i=(0,n.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:r,...s}){return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:r}),e),...s})}t()}catch(e){t(e)}})},6399:(e,r,s)=>{s.d(r,{A:()=>t});let t=(0,s(2386).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7340:(e,r,s)=>{s.a(e,async(e,t)=>{try{s.r(r),s.d(r,{default:()=>y});var a=s(8732),n=s(2015),l=s(6761),c=s.n(l),o=s(3431),i=s(3106),d=s(3838),u=s(6399),x=s(9918),m=s.n(x),h=e([o]);o=(h.then?(await h)():h)[0];let g="https://api.oyonews.com.ng/wp-json/wp/v2",p=()=>(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),f=()=>(0,a.jsxs)("article",{className:"flex bg-white rounded-xl shadow-lg p-4 animate-pulse space-x-4",children:[(0,a.jsx)("div",{className:"w-1/3 bg-gray-300 rounded-md h-32"}),(0,a.jsxs)("div",{className:"w-2/3 space-y-3 py-1",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-5/6"}),(0,a.jsxs)("div",{className:"flex space-x-3 mt-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-20"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-20"})]})]})]}),v=e=>{let r=new Map;return e.forEach(e=>{r.set(e.id,e)}),Array.from(r.values())},y=()=>{let[e,r]=(0,n.useState)([]),[s,t]=(0,n.useState)({}),[l,x]=(0,n.useState)({}),[h,y]=(0,n.useState)(!0),[j,b]=(0,n.useState)(!1),[w,N]=(0,n.useState)(null),k=(0,n.useRef)(null),A=(0,n.useRef)(!1),_=(0,n.useCallback)(async(e,r)=>{if(A.current)return;b(!0),A.current=!0;let a=e.map((e,a)=>{let n=0===a?10:2,l=r[e.id]||1;return(s[e.id]?.length||0)>=l*n?Promise.resolve():fetch(`${g}/posts?categories=${e.id}&per_page=${n}&page=${l}&_embed`).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(r=>{t(s=>{let t=[...s[e.id]||[],...r];return{...s,[e.id]:v(t)}})})});Promise.all(a).catch(e=>{N("Failed to load posts."),console.error(e)}).finally(()=>{b(!1),A.current=!1})},[s]);(0,n.useEffect)(()=>{y(!0),fetch(`${g}/categories?per_page=100`).then(e=>e.json()).then(e=>{let s=e.sort((e,r)=>r.count-e.count);r(s);let t={};s.forEach(e=>{t[e.id]=1}),x(t),_(s,t),y(!1)}).catch(e=>{N("Failed to load categories."),y(!1),console.error(e)})},[_]);let S=(0,n.useCallback)(r=>{k.current&&k.current.disconnect(),k.current=new IntersectionObserver(r=>{if(r[0].isIntersecting&&!A.current){let r={...l};e.forEach(e=>{r[e.id]=(r[e.id]||1)+1}),x(r),_(e,r)}}),r&&k.current.observe(r)},[e,l,_]);(0,n.useEffect)(()=>()=>{k.current&&k.current.disconnect()},[]);let $=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500"],E=e=>$[e%$.length]||"bg-gray-500";return w?(0,a.jsx)("div",{className:"text-center text-red-600 py-10",children:(0,a.jsx)("p",{children:w})}):h?(0,a.jsx)(p,{}):(0,a.jsx)("section",{className:"mb-12",children:e.map((r,t)=>(0,a.jsxs)("div",{className:"mb-12",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)(o.E,{className:`${E(t)} text-white mr-4 px-4 py-2 text-lg`,children:r.name}),(0,a.jsx)("div",{className:"h-1 bg-gradient-to-r from-gray-300 to-transparent rounded-full flex-1"}),(0,a.jsx)(i.A,{className:"h-5 w-5 text-gray-400 ml-4"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(s[r.id]||[]).map((r,s,n)=>{let l=t===e.length-1,o=s===n.length-1,i=r._embedded?.["wp:featuredmedia"]?.[0]?.source_url||"https://via.placeholder.com/300x200?text=No+Image";return(0,a.jsx)(m(),{href:`/${r.slug||""}`,children:(0,a.jsx)("article",{ref:l&&o?S:null,className:"group cursor-pointer bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-1/3 relative h-32",children:(0,a.jsx)(c(),{src:i,alt:r.title.rendered.replace(/<[^>]+>/g,""),fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-110"})}),(0,a.jsxs)("div",{className:"w-2/3 p-4",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors line-clamp-2",dangerouslySetInnerHTML:{__html:r.title.rendered||""}}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",dangerouslySetInnerHTML:{__html:r.excerpt.rendered||""}}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500 space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:r._embedded?.author?.[0]?.name||"Unknown Author"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(u.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:new Date(r.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]})]})]})]})})},r.id)}),j&&Array.from({length:0===t?10:2},(e,s)=>(0,a.jsx)(f,{},`skeleton-${r.id}-${s}`))]})]},r.id))})};t()}catch(e){t(e)}})}};