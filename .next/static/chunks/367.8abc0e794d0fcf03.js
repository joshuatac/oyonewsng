"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[367],{367:(e,s,r)=>{r.r(s),r.d(s,{default:()=>x});var t=r(7876),a=r(4232),l=r(8230),n=r.n(l),d=r(5682),c=r(2671),o=r(710),i=r(2341),u=r(4587),h=r.n(u);let m=e=>{let{featured:s=!1}=e;return(0,t.jsxs)("article",{className:"animate-pulse bg-white rounded-2xl overflow-hidden shadow-lg ".concat(s?"md:col-span-2":""),children:[(0,t.jsx)("div",{className:"bg-gray-300 w-full ".concat(s?"h-64 md:h-80":"h-48")}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsx)("div",{className:"bg-gray-300 rounded h-6 ".concat(s?"w-3/4":"w-5/6")}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"bg-gray-300 rounded h-4 w-full"}),(0,t.jsx)("div",{className:"bg-gray-300 rounded h-4 w-5/6"}),!s&&(0,t.jsx)("div",{className:"bg-gray-300 rounded h-4 w-4/6"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("div",{className:"bg-gray-300 rounded h-4 w-20"}),(0,t.jsx)("div",{className:"bg-gray-300 rounded h-4 w-20"})]}),(0,t.jsx)("div",{className:"bg-gray-300 rounded h-4 w-12"})]})]})]})},x=()=>{let[e,s]=(0,a.useState)([]),[r,l]=(0,a.useState)(!0),[u,x]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{l(!0),x(null);try{let e=await fetch("https://api.oyonews.com.ng/wp-json/wp/v2/posts?per_page=5&orderby=date&order=desc&_embed");if(console.log("Fetching posts..."),!e.ok){let s=await e.json();throw Error(s.message||"Failed to fetch posts")}let r=await e.json();console.log("Fetched data:",r);let t=r.map((e,s)=>{var r,t,a,l,n,d,c,o,i,u,h;return{id:e.id,slug:e.slug,title:e.title.rendered,excerpt:e.excerpt.rendered.replace(/<\/?[^>]+(>|$)/g,"").slice(0,160).trim()+"â€¦",image:(null==(a=e._embedded)||null==(t=a["wp:featuredmedia"])||null==(r=t[0])?void 0:r.source_url)||"https://via.placeholder.com/400x300?text=No+Image",category:(null==(c=e._embedded)||null==(d=c["wp:term"])||null==(n=d[0])||null==(l=n[0])?void 0:l.name)||"Uncategorized",author:(null==(u=e._embedded)||null==(i=u.author)||null==(o=i[0])?void 0:o.name)||"Unknown",publishedAt:new Date(e.date).toLocaleDateString(void 0,{day:"numeric",month:"short",year:"numeric"}),views:(null==(h=e.meta)?void 0:h.post_views_count)?Number(e.meta.post_views_count).toLocaleString():"0",featured:0===s}});console.log("Mapped posts:",t),s(t)}catch(e){e instanceof Error?x(e.message||"Error fetching posts"):x("Error fetching posts"),console.error("Error fetching posts:",e)}finally{l(!1)}})()},[]),u)?(0,t.jsxs)("p",{className:"text-red-600",children:["Error: ",u]}):e.length||r?(0,t.jsxs)("section",{className:"mb-12",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Featured Stories"}),(0,t.jsx)("div",{className:"h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex-1 ml-6 max-w-32"})]}),r?(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsx)(m,{featured:!0}),(0,t.jsx)(m,{}),(0,t.jsx)(m,{})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.map((e,s)=>(0,t.jsx)("article",{className:"group transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl ".concat(0===s?"md:col-span-2":""),children:(0,t.jsxs)(n(),{href:"/".concat(e.slug),className:"bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 block",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden",children:[(0,t.jsx)(h(),{src:e.image,alt:e.title,unoptimized:!0,className:"w-full object-cover transition-transform duration-300 group-hover:scale-110 ".concat(0===s?"h-64 md:h-80":"h-48"),width:800,height:400}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),(0,t.jsx)(d.E,{className:"absolute top-4 left-4 bg-red-500 hover:bg-red-600 text-white",children:e.category}),e.featured&&(0,t.jsx)(d.E,{className:"absolute top-4 right-4 bg-yellow-500 hover:bg-yellow-600 text-black",children:"Featured"})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-bold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors line-clamp-2 ".concat(0===s?"text-2xl":"text-xl"),children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 mb-4 leading-relaxed",children:e.excerpt}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(c.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.author})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.publishedAt})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.views})]})]})]})]})},e.id))})]}):(0,t.jsx)("p",{children:"No posts found."})}},710:(e,s,r)=>{r.d(s,{A:()=>t});let t=(0,r(1713).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2341:(e,s,r)=>{r.d(s,{A:()=>t});let t=(0,r(1713).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5682:(e,s,r)=>{r.d(s,{E:()=>d});var t=r(7876);r(4232);var a=r(9518),l=r(5870);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:r,...a}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:r}),s),...a})}}}]);