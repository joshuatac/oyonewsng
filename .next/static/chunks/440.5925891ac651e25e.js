"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[440],{710:(e,s,t)=>{t.d(s,{A:()=>r});let r=(0,t(1713).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1899:(e,s,t)=>{t.d(s,{A:()=>r});let r=(0,t(1713).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},2341:(e,s,t)=>{t.d(s,{A:()=>r});let r=(0,t(1713).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2440:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var r=t(7876),a=t(4232),l=t(8230),n=t.n(l),c=t(4587),o=t.n(c),i=t(5682),d=t(1899),m=t(2341),u=t(710);let x=e=>{let{className:s}=e;return(0,r.jsx)("div",{className:"bg-gray-300 rounded ".concat(s," animate-pulse")})},h=()=>(0,r.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg animate-pulse bg-gray-100",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 relative",children:[(0,r.jsx)(x,{className:"w-6 h-6 rounded-full mb-1"}),(0,r.jsx)(x,{className:"w-16 h-16 rounded-lg"})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)(x,{className:"w-12 h-4 mb-2 rounded"}),(0,r.jsx)(x,{className:"w-full h-5 mb-2 rounded"}),(0,r.jsx)(x,{className:"w-20 h-4 rounded"})]})]}),p=()=>{let[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(!0),[c,x]=(0,a.useState)(null),p=e=>e?e>=1e3?"".concat((e/1e3).toFixed(1),"k"):e.toString():"0",f=e=>{let s=Math.floor((Date.now()-new Date(e).getTime())/6e4);if(s<60)return"".concat(s," min ago");let t=Math.floor(s/60);if(t<24)return"".concat(t," hour").concat(1!==t?"s":""," ago");let r=Math.floor(t/24);return"".concat(r," day").concat(1!==r?"s":""," ago")};return((0,a.useEffect)(()=>{(async()=>{l(!0);try{let e=await fetch("https://api.oyonews.com.ng/wp-json/wp/v2/posts?per_page=5&orderby=post_views_count&order=desc&meta_key=post_views_count&_embed");if(!e.ok)throw Error("Failed to fetch trending posts");let t=(await e.json()).map(e=>{var s,t,r,a,l,n,c,o;return{id:e.id,slug:e.slug,title:e.title,featured_media_src:null!=(o=null==(r=e._embedded)||null==(t=r["wp:featuredmedia"])||null==(s=t[0])?void 0:s.source_url)?o:"https://via.placeholder.com/300x200?text=No+Image",categories_names:(null==(n=e._embedded)||null==(l=n["wp:term"])||null==(a=l[0])?void 0:a.map(e=>e.name))||[],post_views_count:Number(null==(c=e.meta)?void 0:c.post_views_count)||0,date:e.date}});s(t)}catch(e){e instanceof Error?x(e.message||"Error fetching posts"):x("Error fetching posts")}finally{l(!1)}})()},[]),c)?(0,r.jsxs)("p",{className:"text-red-600 font-semibold",children:["Error: ",c]}):(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(d.A,{className:"h-6 w-6 text-red-500 mr-3"}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Trending Now"})]}),(0,r.jsx)("div",{className:"space-y-4",children:t?Array.from({length:5}).map((e,s)=>(0,r.jsx)(h,{},s)):e.map(e=>(0,r.jsx)(n(),{href:"/".concat(e.slug),className:"group block cursor-pointer p-3 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 relative",children:(0,r.jsx)("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden",children:(0,r.jsx)(o(),{src:e.featured_media_src,alt:e.title.rendered,fill:!0,className:"object-cover",sizes:"64px"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[e.categories_names[0]&&(0,r.jsx)(i.E,{variant:"outline",className:"text-xs mb-2",children:e.categories_names[0]}),(0,r.jsx)("h4",{className:"font-semibold text-sm text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2 mb-2",children:e.title.rendered}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500 space-x-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(m.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:p(e.post_views_count)})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(u.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:f(e.date)})]})]})]})]})},e.id))})]})}},5682:(e,s,t)=>{t.d(s,{E:()=>c});var r=t(7876);t(4232);var a=t(9518),l=t(5870);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(n({variant:t}),s),...a})}}}]);