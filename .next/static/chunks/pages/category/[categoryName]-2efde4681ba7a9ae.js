(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44],{380:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/category/[categoryName]",function(){return s(906)}])},710:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1713).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},727:(e,t,s)=>{"use strict";s.d(t,{BT:()=>i,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>c});var r=s(7876),a=s(4232),l=s(5870);let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});n.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});c.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});d.displayName="CardTitle";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});i.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},785:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(7876),a=s(4232),l=s(6536);let n=e=>{let{children:t,height:s=300}=e,n=(0,a.useRef)(null),[c,d]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!n.current||c)return;let e=new IntersectionObserver(t=>{let[s]=t;s.isIntersecting&&(d(!0),e.disconnect())},{rootMargin:"100px"});return e.observe(n.current),()=>e.disconnect()},[c]),(0,r.jsx)("div",{ref:n,children:c?t:(0,r.jsx)(l.E,{className:"w-full rounded-lg",style:{height:"".concat(s,"px")}})})}},906:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var r=s(7876),a=s(4232),l=s(9099),n=s(8230),c=s.n(n),d=s(429),i=s(6625),o=s(727),m=s(5037),u=s(710),x=s(785),h=s(6536),g=s(802),p=s(4587),f=s.n(p);let j=()=>{let e=(0,l.useRouter)(),{categoryName:t}=e.query,[s,n]=(0,a.useState)([]),[p,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e.isReady&&t&&(async()=>{j(!0);try{let e=await fetch("https://api.oyonews.com.ng/wp-json/wp/v2/categories?slug=".concat(t)),s=await e.json();if(!s.length)return;let r=s[0].id,a=await fetch("https://api.oyonews.com.ng/wp-json/wp/v2/posts?_embed&categories=".concat(r)),l=(await a.json()).map(e=>{var t,s,r,a,l,n;return{...e,featured_media_url:(null==(r=e._embedded)||null==(s=r["wp:featuredmedia"])||null==(t=s[0])?void 0:t.source_url)||"",comment_count:(null==(n=e._embedded)||null==(l=n.replies)||null==(a=l[0])?void 0:a.length)||0}});n(l)}catch(e){console.error("Error fetching posts:",e)}finally{j(!1)}})()},[e.isReady,t]);let N=e=>e.charAt(0).toUpperCase()+e.slice(1),y=e=>{let t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""},w=(e,t)=>{let s=e.trim().split(/\s+/);return s.slice(0,t).join(" ")+(s.length>t?"...":"")};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(d.A,{}),(0,r.jsx)(g.A,{}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:N(t||"Category")}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Latest posts from ",N(t||"this category")]})]}),p?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((e,t)=>(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(h.E,{className:"w-full h-48 rounded-t-lg"}),(0,r.jsxs)(o.Wu,{className:"p-4",children:[(0,r.jsx)(h.E,{className:"h-6 mb-2 rounded"}),(0,r.jsx)(h.E,{className:"h-4 mb-3 rounded"}),(0,r.jsx)(h.E,{className:"h-4 w-24 rounded"})]})]},t))}):0===s.length?(0,r.jsx)("p",{className:"text-center text-gray-500",children:"No posts found in this category."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(e=>(0,r.jsx)(x.A,{children:(0,r.jsx)(c(),{href:"/".concat(e.slug),children:(0,r.jsxs)(o.Zp,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(f(),{src:e.featured_media_url||"/fallback.jpg",alt:e.title.rendered,width:400,height:240,className:"w-full h-48 object-cover rounded-t-lg",loading:"lazy"}),(0,r.jsxs)("div",{className:"absolute top-2 right-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-sm flex items-center",children:[(0,r.jsx)(m.A,{className:"h-3 w-3 mr-1"}),e.comment_count]})]}),(0,r.jsxs)(o.Wu,{className:"p-4",children:[(0,r.jsx)("h3",{className:"font-bold text-gray-900 mb-2 hover:text-red-600 transition-colors",children:(0,r.jsx)("span",{className:"block text-ellipsis overflow-hidden leading-snug line-clamp-2 h-[3em]",dangerouslySetInnerHTML:{__html:e.title.rendered}})}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:w(y(e.excerpt.rendered),100)}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,r.jsx)(u.A,{className:"h-3 w-3 mr-1"}),new Date(e.date).toLocaleDateString()]})]})]})})},e.id))}),(0,r.jsx)("div",{className:"text-center mt-12",children:(0,r.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-medium transition-colors",children:"Load More Posts"})})]})]}),(0,r.jsx)(i.A,{})]})}},6536:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var r=s(7876),a=s(5870);function l(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",t),...s})}}},e=>{var t=t=>e(e.s=t);e.O(0,[871,122,646,636,593,792],()=>t(380)),_N_E=e.O()}]);