(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{727:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i});var l=t(7876),a=t(4232),r=t(5870);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});n.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},785:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var l=t(7876),a=t(4232),r=t(6536);let n=e=>{let{children:s,height:t=300}=e,n=(0,a.useRef)(null),[i,d]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!n.current||i)return;let e=new IntersectionObserver(s=>{let[t]=s;t.isIntersecting&&(d(!0),e.disconnect())},{rootMargin:"100px"});return e.observe(n.current),()=>e.disconnect()},[i]),(0,l.jsx)("div",{ref:n,children:i?s:(0,l.jsx)(r.E,{className:"w-full rounded-lg",style:{height:"".concat(t,"px")}})})}},5549:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C});var l=t(7876),a=t(4232),r=t(429),n=t(4e3),i=t(8230),d=t.n(i),c=t(9516),o=t(7041),m=t(8971),u=t(802),x=t(4587),h=t.n(x);let p=()=>{let[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(""),[i,x]=(0,a.useState)(!0),[p,g]=(0,a.useState)(!1),f=(0,n.useRouter)();(0,a.useEffect)(()=>{fetch("https://api.oyonews.com.ng/wp-json/wp/v2/posts?per_page=6&_embed").then(e=>e.json()).then(e=>{s(e.map(e=>{var s,t,l,a,r,n,i,d;return{id:e.id,title:(null==(s=e.title)?void 0:s.rendered)||"Untitled",slug:e.slug,image:(null==(a=e._embedded)||null==(l=a["wp:featuredmedia"])||null==(t=l[0])?void 0:t.source_url)||"https://via.placeholder.com/400x300?text=No+Image",category:(null==(d=e._embedded)||null==(i=d["wp:term"])||null==(n=i[0])||null==(r=n[0])?void 0:r.name)||"Uncategorized",comments:e.comment_count||"0",link:e.link}})),x(!1)}).catch(e=>{console.error("Failed to fetch trending posts",e),g(!0),x(!1)})},[]);let b=()=>{t.trim()&&f.push("/search?q=".concat(encodeURIComponent(t.trim())))};return(0,l.jsxs)("section",{className:"bg-white",children:[(0,l.jsx)(u.A,{}),(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)("div",{className:"bg-black rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex items-center text-white mb-3",children:[(0,l.jsx)(c.A,{className:"h-5 w-5 mr-2"}),(0,l.jsx)("span",{className:"font-bold",children:"SEARCH FOR POST"})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(m.p,{className:"flex-1 bg-white",placeholder:"Search...",value:t,onChange:e=>r(e.target.value),onKeyDown:e=>{"Enter"===e.key&&b()}}),(0,l.jsx)(o.$,{className:"ml-2 bg-gray-700 hover:bg-gray-600 text-white",onClick:b,children:"Search"})]})]})})}),(0,l.jsxs)("div",{className:"mt-8",children:[(0,l.jsx)("div",{className:"flex space-x-4 mb-6",children:(0,l.jsx)(o.$,{className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 font-bold",children:"TRENDING POSTS"})}),i?(0,l.jsx)("p",{className:"text-gray-500",children:"Loading trending posts..."}):p?(0,l.jsx)("p",{className:"text-red-500",children:"Failed to load trending posts."}):(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(e=>(0,l.jsxs)(d(),{href:"/".concat(e.slug),className:"block bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[(0,l.jsxs)("div",{className:"relative w-full h-48",children:[(0,l.jsx)(h(),{src:e.image,alt:e.title,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, 25vw"}),(0,l.jsx)("div",{className:"absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded text-sm font-bold",children:e.comments})]}),(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)("h3",{className:"font-bold text-gray-800 line-clamp-2",children:e.title})})]},e.id))})]})]})]})};var g=t(785),f=t(2347);let b=(0,t(1713).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),j=()=>{let[e,s]=(0,a.useState)(""),[t,r]=(0,a.useState)("idle"),[n,i]=(0,a.useState)(""),d=async t=>{t.preventDefault(),r("loading"),i("");try{let t=await fetch("https://api.oyonews.com.ng/wp-json/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),l=await t.json();t.ok?(r("success"),s("")):(r("error"),i((null==l?void 0:l.message)||"Subscription failed. Please try again."))}catch(e){r("error"),i("An error occurred. Please check your connection and try again.")}};return(0,l.jsx)("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl p-6 text-white shadow-lg",role:"form","aria-label":"Newsletter Subscription",children:(0,l.jsxs)("form",{onSubmit:d,children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("div",{className:"bg-white/20 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(f.A,{className:"h-8 w-8"})}),(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Stay Updated"}),(0,l.jsx)("p",{className:"text-blue-100 text-sm",children:"Get the latest news delivered straight to your inbox"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(m.p,{type:"email",value:e,onChange:e=>s(e.target.value),placeholder:"Enter your email",required:!0,className:"bg-white/20 border-white/30 text-white placeholder:text-blue-100 focus:bg-white/30","aria-label":"Email address"}),(0,l.jsxs)(o.$,{type:"submit",className:"w-full bg-white text-blue-600 hover:bg-blue-50 font-semibold",disabled:"loading"===t,children:[(0,l.jsx)(b,{className:"h-4 w-4 mr-2"}),"loading"===t?"Subscribing...":"Subscribe Now"]})]}),(0,l.jsxs)("div",{className:"mt-4 text-center text-sm",children:[(0,l.jsx)("p",{className:"text-blue-100",children:"Join 50,000+ readers • No spam • Unsubscribe anytime"}),"success"===t&&(0,l.jsx)("p",{className:"text-green-300 mt-2",children:"Subscription successful!"}),"error"===t&&(0,l.jsx)("p",{className:"text-red-300 mt-2",children:n})]})]})})};var N=t(6625),v=t(727),w=t(6536);let y=(0,a.lazy)(()=>t.e(367).then(t.bind(t,367))),S=(0,a.lazy)(()=>t.e(705).then(t.bind(t,2705))),k=(0,a.lazy)(()=>t.e(440).then(t.bind(t,2440))),E=()=>(0,l.jsxs)(v.Zp,{children:[(0,l.jsx)(w.E,{className:"w-full h-48 rounded-t-lg"}),(0,l.jsxs)(v.Wu,{className:"p-4 space-y-2",children:[(0,l.jsx)(w.E,{className:"h-6 w-3/4"}),(0,l.jsx)(w.E,{className:"h-4 w-full"}),(0,l.jsx)(w.E,{className:"h-4 w-1/3"})]})]}),_=e=>{let{count:s=3}=e;return(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:s}).map((e,s)=>(0,l.jsx)(E,{},s))})},C=()=>(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)(r.A,{}),(0,l.jsx)(p,{}),(0,l.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,l.jsxs)("div",{className:"lg:col-span-2 space-y-10",children:[(0,l.jsx)(g.A,{height:256,children:(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(_,{count:1}),children:(0,l.jsx)(y,{})})}),(0,l.jsx)(g.A,{height:192,children:(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(_,{count:2}),children:(0,l.jsx)(S,{})})})]}),(0,l.jsxs)("aside",{className:"lg:col-span-1 space-y-6",children:[(0,l.jsx)(g.A,{height:384,children:(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(_,{count:1}),children:(0,l.jsx)(k,{})})}),(0,l.jsx)(j,{})]})]})}),(0,l.jsx)(N.A,{})]})},6536:(e,s,t)=>{"use strict";t.d(s,{E:()=>r});var l=t(7876),a=t(5870);function r(e){let{className:s,...t}=e;return(0,l.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",s),...t})}},6760:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5549)}])},8971:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var l=t(7876),a=t(4232),r=t(5870);let n=a.forwardRef((e,s)=>{let{className:t,type:a,...n}=e;return(0,l.jsx)("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n})});n.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[871,122,646,636,593,792],()=>s(6760)),_N_E=e.O()}]);