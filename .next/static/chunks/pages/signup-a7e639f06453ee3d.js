(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{727:(e,s,a)=>{"use strict";a.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>n});var t=a(7876),r=a(4232),l=a(5870);let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});n.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},850:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var t=a(7876),r=a(4232),l=a(8230),i=a.n(l),n=a(4e3),d=a(7041),o=a(8971),c=a(727),m=a(2671),x=a(2347),u=a(9239),p=a(7897),h=a(2341),f=a(429),g=a(6625),y=a(802),w=a(6184);let j=()=>{let[e,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[j,N]=(0,r.useState)(""),[v,b]=(0,r.useState)(!1),[k,A]=(0,r.useState)(!1),{login:C,isAuthenticated:S}=(0,w.A)(),_=(0,n.useRouter)(),E=async s=>{if(s.preventDefault(),!e.trim()||!a.trim()||j.length<6)return void alert("Please complete all fields correctly.");A(!0);try{var t;let s=await fetch("https://api.oyonews.com.ng/wp-json/oyonews/v1/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,email:e,password:j})}),r=await s.json();if(!s.ok||!(null==r?void 0:r.user)||!(null==r?void 0:r.token))throw Error(r.message||"Registration failed");await C(e,j);let l=(null==(t=r.user.roles)?void 0:t[0])||"subscriber";"administrator"===l?window.location.href="https://api.oyonews.com.ng/wp-admin":_.push("/")}catch(e){alert(e instanceof Error?e.message:"Something went wrong.")}finally{A(!1)}};return S?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,t.jsx)(f.A,{}),(0,t.jsx)(y.A,{}),(0,t.jsx)("main",{className:"container mx-auto px-4 py-16 flex flex-col items-center justify-center flex-grow",children:(0,t.jsxs)(c.Zp,{className:"max-w-md shadow-xl p-6 text-center",children:[(0,t.jsx)(c.ZB,{className:"text-2xl font-bold mb-4",children:"You are already logged in"}),(0,t.jsx)(d.$,{onClick:()=>_.push("/dashboard"),children:"Go to Dashboard"})]})}),(0,t.jsx)(g.A,{})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,t.jsx)(f.A,{}),(0,t.jsx)(y.A,{}),(0,t.jsx)("main",{className:"container mx-auto px-4 py-16 flex-grow",children:(0,t.jsx)("div",{className:"max-w-md mx-auto",children:(0,t.jsxs)(c.Zp,{className:"shadow-xl",children:[(0,t.jsxs)(c.aR,{className:"text-center",children:[(0,t.jsx)(c.ZB,{className:"text-2xl font-bold text-gray-900",children:"Create an Account"}),(0,t.jsx)(c.BT,{className:"text-gray-600",children:"Sign up to start commenting"})]}),(0,t.jsx)(c.Wu,{children:(0,t.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Username"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(o.p,{id:"username",type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Enter your username",className:"pl-10",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(x.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(o.p,{id:"email",type:"email",value:e,onChange:e=>s(e.target.value),placeholder:"Enter your email",className:"pl-10",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(o.p,{id:"password",type:v?"text":"password",value:j,onChange:e=>N(e.target.value),placeholder:"Enter your password",className:"pl-10 pr-10",required:!0}),(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2",onClick:()=>b(!v),"aria-label":v?"Hide password":"Show password",children:v?(0,t.jsx)(p.A,{className:"h-4 w-4 text-gray-400"}):(0,t.jsx)(h.A,{className:"h-4 w-4 text-gray-400"})})]})]}),(0,t.jsx)(d.$,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white",disabled:k,children:k?"Signing up...":"Sign Up"}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,t.jsx)(i(),{href:"/login",className:"text-red-600 hover:text-red-500 font-medium",children:"Sign in"})]})})]})})]})})}),(0,t.jsx)(g.A,{})]})}},2341:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1713).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5708:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return a(850)}])},7897:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1713).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},8971:(e,s,a)=>{"use strict";a.d(s,{p:()=>i});var t=a(7876),r=a(4232),l=a(5870);let i=r.forwardRef((e,s)=>{let{className:a,type:r,...i}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});i.displayName="Input"},9239:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1713).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[871,122,646,636,593,792],()=>s(5708)),_N_E=e.O()}]);