"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{710:(e,r,s)=>{s.d(r,{A:()=>t});let t=(0,s(1713).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1899:(e,r,s)=>{s.d(r,{A:()=>t});let t=(0,s(1713).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},2705:(e,r,s)=>{s.r(r),s.d(r,{default:()=>f});var t=s(7876),a=s(4232),l=s(4587),n=s.n(l),c=s(5682),o=s(1899),d=s(2671),i=s(710),u=s(8230),x=s.n(u);let m="https://api.oyonews.com.ng/wp-json/wp/v2",h=()=>(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),g=()=>(0,t.jsxs)("article",{className:"flex bg-white rounded-xl shadow-lg p-4 animate-pulse space-x-4",children:[(0,t.jsx)("div",{className:"w-1/3 bg-gray-300 rounded-md h-32"}),(0,t.jsxs)("div",{className:"w-2/3 space-y-3 py-1",children:[(0,t.jsx)("div",{className:"h-6 bg-gray-300 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-5/6"}),(0,t.jsxs)("div",{className:"flex space-x-3 mt-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-20"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-20"})]})]})]}),p=e=>{let r=new Map;return e.forEach(e=>{r.set(e.id,e)}),Array.from(r.values())},f=()=>{let[e,r]=(0,a.useState)([]),[s,l]=(0,a.useState)({}),[u,f]=(0,a.useState)({}),[v,b]=(0,a.useState)(!0),[y,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),k=(0,a.useRef)(null),_=(0,a.useRef)(!1),A=(0,a.useCallback)(async(e,r)=>{_.current||(j(!0),_.current=!0,Promise.all(e.map((e,t)=>{var a;let n=0===t?10:2,c=r[e.id]||1;return((null==(a=s[e.id])?void 0:a.length)||0)>=c*n?Promise.resolve():fetch("".concat(m,"/posts?categories=").concat(e.id,"&per_page=").concat(n,"&page=").concat(c,"&_embed")).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(r=>{l(s=>{let t=[...s[e.id]||[],...r];return{...s,[e.id]:p(t)}})})})).catch(e=>{N("Failed to load posts."),console.error(e)}).finally(()=>{j(!1),_.current=!1}))},[s]);(0,a.useEffect)(()=>{b(!0),fetch("".concat(m,"/categories?per_page=100")).then(e=>e.json()).then(e=>{let s=e.sort((e,r)=>r.count-e.count);r(s);let t={};s.forEach(e=>{t[e.id]=1}),f(t),A(s,t),b(!1)}).catch(e=>{N("Failed to load categories."),b(!1),console.error(e)})},[A]);let E=(0,a.useCallback)(r=>{k.current&&k.current.disconnect(),k.current=new IntersectionObserver(r=>{if(r[0].isIntersecting&&!_.current){let r={...u};e.forEach(e=>{r[e.id]=(r[e.id]||1)+1}),f(r),A(e,r)}}),r&&k.current.observe(r)},[e,u,A]);(0,a.useEffect)(()=>()=>{k.current&&k.current.disconnect()},[]);let S=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500"],C=e=>S[e%S.length]||"bg-gray-500";return w?(0,t.jsx)("div",{className:"text-center text-red-600 py-10",children:(0,t.jsx)("p",{children:w})}):v?(0,t.jsx)(h,{}):(0,t.jsx)("section",{className:"mb-12",children:e.map((r,a)=>(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsxs)("div",{className:"flex items-center mb-6",children:[(0,t.jsx)(c.E,{className:"".concat(C(a)," text-white mr-4 px-4 py-2 text-lg"),children:r.name}),(0,t.jsx)("div",{className:"h-1 bg-gradient-to-r from-gray-300 to-transparent rounded-full flex-1"}),(0,t.jsx)(o.A,{className:"h-5 w-5 text-gray-400 ml-4"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(s[r.id]||[]).map((r,s,l)=>{var c,o,u,m,h,g;let p=a===e.length-1,f=s===l.length-1,v=(null==(u=r._embedded)||null==(o=u["wp:featuredmedia"])||null==(c=o[0])?void 0:c.source_url)||"https://via.placeholder.com/300x200?text=No+Image";return(0,t.jsx)(x(),{href:"/".concat(r.slug||""),children:(0,t.jsx)("article",{ref:p&&f?E:null,className:"group cursor-pointer bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-1/3 relative h-32",children:(0,t.jsx)(n(),{src:v,alt:r.title.rendered.replace(/<[^>]+>/g,""),fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-110"})}),(0,t.jsxs)("div",{className:"w-2/3 p-4",children:[(0,t.jsx)("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors line-clamp-2",dangerouslySetInnerHTML:{__html:r.title.rendered||""}}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",dangerouslySetInnerHTML:{__html:r.excerpt.rendered||""}}),(0,t.jsxs)("div",{className:"flex items-center text-xs text-gray-500 space-x-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(d.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:(null==(g=r._embedded)||null==(h=g.author)||null==(m=h[0])?void 0:m.name)||"Unknown Author"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(i.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:new Date(r.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]})]})]})]})})},r.id)}),y&&Array.from({length:0===a?10:2},(e,s)=>(0,t.jsx)(g,{},"skeleton-".concat(r.id,"-").concat(s)))]})]},r.id))})}},5682:(e,r,s)=>{s.d(r,{E:()=>c});var t=s(7876);s(4232);var a=s(9518),l=s(5870);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:r,variant:s,...a}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:s}),r),...a})}}}]);